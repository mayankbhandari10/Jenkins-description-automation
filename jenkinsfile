pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
                script {
                    def logText = """This is a sample log.
                    Error: This is the error message we want to capture.
                    More log text here.
                    """

                    def errorPattern = /Error: (.*)/

                    if (logText =~ errorPattern) {
                        def errorMessage = (logText =~ errorPattern)[0][1]
                        currentBuild.description = "Error: ${errorMessage}"
                        error("Error: ${errorMessage}")
                    }
                }
            }
        }
    }
}
